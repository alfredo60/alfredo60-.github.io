(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c9168"],{"583b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("c-data-tables",{attrs:{title:"Registro de ventas",limite:[10,20,50,100],total:t.total,opt:t.opts},on:{paginate:t.send,refresh:t.refresh},scopedSlots:t._u([{key:"table",fn:function(){return[a("table",{staticClass:"table table-condensed table-sm table-hover"},[a("thead",[a("tr",[a("th",{staticClass:"col-xs-1"},[t._v("Codigo")]),a("th",{staticClass:"col-md-3"},[t._v("Cliente")]),a("th",[t._v("Importe")]),a("th",{staticStyle:{width:"40px"}},[t._v("Dcto")]),a("th",[t._v("SubTotal")]),a("th",[t._v("IVA")]),a("th",[t._v("Total")]),a("th",{staticClass:"col-xs-1"},[t._v("Cobr√≥")]),a("th",[t._v("Modo")]),a("th",[t._v("Fecha")]),a("th")]),a("tr",[a("th",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.values.id,expression:"values.id",modifiers:{number:!0}}],staticClass:"form-control input-sm",attrs:{type:"number"},domProps:{value:t.values.id},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send(e)},input:function(e){e.target.composing||t.$set(t.values,"id",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(e){t.values.id=null}}},[a("span",{staticClass:"fa fa-remove"})])])])]),a("th"),a("th"),a("th"),a("th"),a("th"),a("th"),a("th",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.cobrado_por,expression:"values.cobrado_por"}],staticClass:"form-control input-sm",domProps:{value:t.values.cobrado_por},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send(e)},input:function(e){e.target.composing||t.$set(t.values,"cobrado_por",e.target.value)}}}),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.values.cobrado_por=null}}},[a("span",{staticClass:"fa fa-remove"})])])])]),a("th",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.values.modo,expression:"values.modo"}],staticClass:"form-control input-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.values,"modo",e.target.multiple?a:a[0])},t.send]}},[a("option",{attrs:{value:"null"}},[t._v("Todos")]),a("option",{attrs:{value:"normal"}},[t._v("Normal")]),a("option",{attrs:{value:"urg"}},[t._v("Urgencia")]),a("option",{attrs:{value:"m1"}},[t._v("Maquila 1")]),a("option",{attrs:{value:"m2"}},[t._v("Maquila 2")])])]),a("th",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.fecha,expression:"values.fecha"}],staticClass:"form-control input-sm",attrs:{type:"date"},domProps:{value:t.values.fecha},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send(e)},input:function(e){e.target.composing||t.$set(t.values,"fecha",e.target.value)}}}),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.values.fecha=null}}},[a("span",{staticClass:"fa fa-remove"})])])])]),a("th")])]),a("tbody",t._l(t.model,(function(e,n){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.cliente.nombre)+" ( "),a("b",[t._v(t._s(e.cliente.telefono))]),t._v(" )")]),a("td",[t._v(t._s(e.importe))]),a("td",[t._v(t._s(null==e.descuento?"0":e.descuento))]),a("td",[t._v(t._s(e.sub_total))]),a("td",[t._v(t._s(e.iva))]),a("td",[t._v(t._s(e.total))]),a("td",[t._v(t._s(e.cobrado_por))]),a("td",["normal"===e.modo?a("span",{staticClass:"label label-success"},[t._v("Normal")]):"urg"===e.modo?a("span",{staticClass:"label label-danger"},[t._v("Urgencia")]):"m1"===e.modo?a("span",{staticClass:"label label-warning"},[t._v("Maquila 1")]):"m2"===e.modo?a("span",{staticClass:"label label-info"},[t._v("Maquila 2")]):t._e()]),a("td",[t._v(t._s(e.created_at))]),a("td",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-primary btn-xs",on:{click:function(a){return t.imprimir(e.uuid)}}},[a("span",{staticClass:"fa fa-file-pdf-o"})]),a("button",{staticClass:"btn btn-danger btn-xs",on:{click:function(a){return t.confirmarDelete(e.id,n)}}},[a("span",{staticClass:"fa fa-trash"})])])])})),0)])]},proxy:!0}])}),a("modal-delete",{attrs:{model:t.confirmar},on:{onDelete:t.eliminar}})],1)},s=[],o=(a("99af"),a("a434"),a("d3b7"),a("ac1f"),a("841c"),a("ddb0"),a("5530")),l=a("dde5"),i=a("ef3b"),r=a("91ce"),u={name:"ventas",components:{modalDelete:i["a"]},data:function(){return{confirmar:{id:0,index:null},showModal:!1,search:!1,model:[],values:{id:null,client_id:null,cobrado_por:null,modo:null,fecha:null},total:0,opts:{per_page:10,page:1}}},mounted:function(){this.$emit("title","Registro de ventas")},methods:{eliminar:function(t){var e=this;l["a"].ventas.destroy(t.id).then((function(a){a.data?(e.$toast.warning(),e.model.splice(t.index,1)):e.$toast.error("No se puedo eliminar el registro")})).catch((function(){e.$toast.catch()}))},confirmarDelete:function(t,e){this.confirmar.id=t,this.confirmar.index=e,window.$("#modal-delete").modal({backdrop:!1,show:!0})},imprimir:function(t){var e=r["a"].getKey("session_lab").api_token;window.open("".concat(window.base_url,"/venta/pdf/").concat(t,"?api_token=").concat(e))},limpiar:function(){this.values.id=null,this.values.client_id=null,this.values.cobrado_por=null,this.values.fecha=null,this.values.modo=null},send:function(){var t=this;l["a"].ventas.search(this.getParams()).then((function(e){200===e.status&&(t.model=e.data.data,t.total=e.data.total)})).catch((function(){}))},refresh:function(){this.limpiar(),this.send()},getParams:function(){return Object(o["a"])({},this.opts,{params:this.values})}}},c=u,d=a("2877"),p=Object(d["a"])(c,n,s,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0c9168.a912859b.js.map