(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e9d18444"],{"8b73":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12"},[a("button",{staticClass:"btn btn-primary pull-right",attrs:{"data-backdrop":"static","data-toggle":"modal","data-target":"#modal"},on:{click:e.limpiar}},[e._v(" Nuevo Cliente "),a("i",{staticClass:"fa fa-user-plus"})])])]),a("c-data-tables",{attrs:{title:"Listado de clientes",limite:[10,20,50,100],total:e.total,opt:e.opts},on:{paginate:e.send,refresh:e.refresh},scopedSlots:e._u([{key:"table",fn:function(){return[a("table",{staticClass:"table table-bordered table-condensed table-hover table-striped"},[a("thead",{staticClass:"text-bold"},[a("tr",[a("th",{staticClass:"col-xs-1"},[e._v("Codigo")]),a("th",{staticStyle:{"text-overflow-ellipsis":"1"}},[e._v("Nombre")]),a("th",[e._v("Telefono")]),a("th",{staticStyle:{"text-overflow-ellipsis":"1"}},[e._v("Direccion")]),a("th",[e._v("Ocupacion")]),a("th",{staticClass:"col-xs-1"},[e._v("Edad")]),a("th",{staticClass:"col-xs-1"},[e._v("Sexo")]),a("th",[e._v("Fecha. Nac")]),a("th",{staticStyle:{width:"60px"}})]),a("tr",[a("th",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.values.id,expression:"values.id",modifiers:{number:!0}}],staticClass:"form-control input-sm",attrs:{type:"number"},domProps:{value:e.values.id},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)},input:function(t){t.target.composing||e.$set(e.values,"id",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(t){e.values.id=null}}},[a("span",{staticClass:"fa fa-remove"})])])])]),a("th",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.values.nombre,expression:"values.nombre"}],staticClass:"form-control input-sm",attrs:{type:"text"},domProps:{value:e.values.nombre},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)},input:function(t){t.target.composing||e.$set(e.values,"nombre",t.target.value)}}}),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(t){e.values.nombre=null}}},[a("span",{staticClass:"fa fa-remove"})])])])]),a("th",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.values.telefono,expression:"values.telefono"}],staticClass:"form-control input-sm",attrs:{type:"tel"},domProps:{value:e.values.telefono},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)},input:function(t){t.target.composing||e.$set(e.values,"telefono",t.target.value)}}}),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(t){e.values.telefono=null}}},[a("span",{staticClass:"fa fa-remove"})])])])]),a("th",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.values.direccion,expression:"values.direccion"}],staticClass:"form-control input-sm",attrs:{type:"text"},domProps:{value:e.values.direccion},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)},input:function(t){t.target.composing||e.$set(e.values,"direccion",t.target.value)}}}),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(t){e.values.direccion=null}}},[a("span",{staticClass:"fa fa-remove"})])])])]),a("th",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.values.ocupacion,expression:"values.ocupacion"}],staticClass:"form-control input-sm",attrs:{type:"text"},domProps:{value:e.values.ocupacion},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)},input:function(t){t.target.composing||e.$set(e.values,"ocupacion",t.target.value)}}}),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(t){e.values.ocupacion=null}}},[a("span",{staticClass:"fa fa-remove"})])])])]),a("th",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.values.edad,expression:"values.edad",modifiers:{number:!0}}],staticClass:"form-control input-sm",attrs:{type:"number"},domProps:{value:e.values.edad},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)},input:function(t){t.target.composing||e.$set(e.values,"edad",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(t){e.values.edad=null}}},[a("span",{staticClass:"fa fa-remove"})])])])]),a("th",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.values.sexo,expression:"values.sexo"}],staticClass:"form-control input-sm",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.values,"sexo",t.target.multiple?a:a[0])},e.send]}},[a("option",{attrs:{value:""}},[e._v("Todos")]),a("option",{attrs:{value:"h"}},[e._v("Hombre")]),a("option",{attrs:{value:"m"}},[e._v("Mujer")])])]),a("th",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.values.fecha_nac,expression:"values.fecha_nac",modifiers:{number:!0}}],staticClass:"form-control input-sm",attrs:{type:"date"},domProps:{value:e.values.fecha_nac},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)},input:function(t){t.target.composing||e.$set(e.values,"fecha_nac",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(t){e.values.fecha_nac=null}}},[a("span",{staticClass:"fa fa-remove"})])])])]),a("th")])]),a("tbody",e._l(e.model,(function(t,o){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.id))]),a("td",[e._v(e._s(t.nombre))]),a("td",[e._v(e._s(t.telefono))]),a("td",[e._v(e._s(t.direccion))]),a("td",[e._v(e._s(t.ocupacion))]),a("td",[e._v(e._s(t.edad))]),a("td",[e._v(e._s("h"==t.sexo?"Hombre":"Mujer"))]),a("td",[e._v(e._s(t.fecha_nac))]),a("td",[e.$can("admin")?a("button",{staticClass:"btn btn-danger btn-xs",on:{click:function(a){return e.confirmarDelete(t.id,o)}}},[a("span",{staticClass:"fa fa-trash"})]):e._e(),a("button",{staticClass:"btn btn-primary btn-xs",on:{click:function(a){return e.editar(t,o)}}},[a("span",{staticClass:"fa fa-pencil"})])])])})),0)])]},proxy:!0}])}),a("t-clientes",{attrs:{model:e.client},on:{store:e.storeEvent,update:e.updateEvent}}),a("modal-delete",{attrs:{model:e.confirmar},on:{onDelete:e.eliminar}})],1)},n=[],s=(a("a434"),a("d3b7"),a("ac1f"),a("841c"),a("ddb0"),a("5530")),l=a("9059"),i=a("ef3b"),r=a("dde5"),c={name:"clientes",components:{tClientes:l["a"],modalDelete:i["a"]},data:function(){return{loading:!1,model:[],confirmar:{id:0,index:null},edit:null,client:{id:0,nombre:null,telefono:null,direccion:null,ocupacion:null,edad:null,sexo:null,fecha_nac:null},values:{id:null,nombre:null,telefono:null,direccion:null,ocupacion:null,edad:null,sexo:"",fecha_nac:null},total:0,opts:{per_page:10,page:1}}},mounted:function(){this.$emit("title","Clientes")},methods:{onSubmit:function(){this.loading=!0},storeEvent:function(e){this.model.unshift(e),this.total+=1},updateEvent:function(e){this.model.splice(this.edit,1,e),this.edit=null,this.limpiar()},confirmarDelete:function(e,t){this.confirmar.id=e,this.confirmar.index=t,window.$("#modal-delete").modal({backdrop:!1,show:!0})},editar:function(e,t){this.setModel(e),this.edit=t,window.$("#modal").modal("show")},eliminar:function(e){var t=this;r["a"].clientes.destroy(e.id).then((function(a){a.data?(t.$toast.warning(),t.model.splice(e.index,1)):t.$toast.error("No se puedo eliminar el registro")})).catch((function(){t.$toast.catch()}))},setModel:function(e){this.client.id=e.id,this.client.nombre=e.nombre,this.client.telefono=e.telefono,this.client.direccion=e.direccion,this.client.ocupacion=e.ocupacion,this.client.edad=e.edad,this.client.sexo=e.sexo,this.client.fecha_nac=e.fecha_nac},limpiar:function(){this.client.id=0,this.client.nombre=null,this.client.telefono=null,this.client.direccion=null,this.client.ocupacion=null,this.client.edad=null,this.client.sexo=null,this.client.fecha_nac=null},send:function(){var e=this;r["a"].clientes.search(this.getParams()).then((function(t){200===t.status&&(e.model=t.data.data,e.total=t.data.total)})).catch((function(){}))},refresh:function(){for(var e in this.values)this.values[e];this.values.sexo="",this.send()},getParams:function(){return Object(s["a"])({},this.opts,{params:this.values})}}},u=c,d=a("2877"),m=Object(d["a"])(u,o,n,!1,null,null,null);t["default"]=m.exports},9059:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("c-modal",{attrs:{"id-modal":"modal",title:e.model.id>0?"Editar cliente":"Registrar nuevo Cliente"},scopedSlots:e._u([{key:"body",fn:function(){return[a("form",{attrs:{role:"form"},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)},reset:e.onReset}},[a("ValidationObserver",{ref:"form"},[a("div",{staticClass:"box-body"},[a("div",{staticClass:"row"},[a("ValidationProvider",{attrs:{vid:"nombre",name:"nombre",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[a("div",{staticClass:"form-group col-md-8",class:{"has-error":1==o.length}},[a("label",[e._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.nombre,expression:"model.nombre"},{name:"uppercase",rawName:"v-uppercase"}],staticClass:"form-control",attrs:{type:"text",name:"nombre",autofocus:"",required:!e.search,autocomplete:"false"},domProps:{value:e.model.nombre},on:{input:function(t){t.target.composing||e.$set(e.model,"nombre",t.target.value)}}}),a("span",{staticClass:"help-block"},[e._v(e._s(o[0]))])])]}}])}),a("ValidationProvider",{attrs:{vid:"telefono",name:"telefono",rules:"required|phone"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[a("div",{staticClass:"form-group col-md-4",class:{"has-error":1==o.length}},[a("label",[e._v("Telefono")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.telefono,expression:"model.telefono"}],staticClass:"form-control",attrs:{type:"text",name:"telefono",maxlength:"10",autofocus:"",required:!e.search,autocomplete:"false"},domProps:{value:e.model.telefono},on:{input:function(t){t.target.composing||e.$set(e.model,"telefono",t.target.value)}}}),a("span",{staticClass:"help-block"},[e._v(e._s(o[0]))])])]}}])})],1),a("ValidationProvider",{attrs:{vid:"direccion",name:"direccion",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[a("div",{staticClass:"form-group",class:{"has-error":1==o.length}},[a("label",[e._v("Dirección")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.direccion,expression:"model.direccion"},{name:"uppercase",rawName:"v-uppercase"}],staticClass:"form-control",attrs:{type:"text",name:"direccion",autofocus:"",required:!e.search,autocomplete:"false"},domProps:{value:e.model.direccion},on:{input:function(t){t.target.composing||e.$set(e.model,"direccion",t.target.value)}}}),a("span",{staticClass:"help-block"},[e._v(e._s(o[0]))])])]}}])}),a("div",{staticClass:"row"},[a("ValidationProvider",{attrs:{vid:"ocupacion",name:"ocupacion",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[a("div",{staticClass:"form-group col-md-4",class:{"has-error":1==o.length}},[a("label",[e._v("Ocupación")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.ocupacion,expression:"model.ocupacion"},{name:"uppercase",rawName:"v-uppercase"}],staticClass:"form-control",attrs:{type:"text",name:"ocupacion",autofocus:"",required:!e.search,autocomplete:"false"},domProps:{value:e.model.ocupacion},on:{input:function(t){t.target.composing||e.$set(e.model,"ocupacion",t.target.value)}}}),a("span",{staticClass:"help-block"},[e._v(e._s(o[0]))])])]}}])}),a("ValidationProvider",{attrs:{vid:"edad",name:"edad",rules:"required|age"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[a("div",{staticClass:"form-group col-md-2",class:{"has-error":1==o.length}},[a("label",[e._v("Edad")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.model.edad,expression:"model.edad",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",name:"edad",min:"1",maxlength:"2",autofocus:"",required:!e.search,autocomplete:"false"},domProps:{value:e.model.edad},on:{input:function(t){t.target.composing||e.$set(e.model,"edad",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("span",{staticClass:"help-block"},[e._v(e._s(o[0]))])])]}}])}),a("ValidationProvider",{attrs:{vid:"sexo",name:"sexo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[a("div",{staticClass:"form-group col-md-3",class:{"has-error":1==o.length}},[a("label",[e._v("Sexo")]),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.sexo,expression:"model.sexo"}],attrs:{type:"radio",name:"sexo",value:"h",autofocus:""},domProps:{checked:e._q(e.model.sexo,"h")},on:{change:function(t){return e.$set(e.model,"sexo","h")}}}),e._v(" Hombre ")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.sexo,expression:"model.sexo"}],attrs:{type:"radio",name:"sexo",value:"m",autofocus:""},domProps:{checked:e._q(e.model.sexo,"m")},on:{change:function(t){return e.$set(e.model,"sexo","m")}}}),e._v(" Mujer ")])]),a("span",{staticClass:"help-block"},[e._v(e._s(o[0]))])])]}}])}),a("ValidationProvider",{attrs:{vid:"fecha_nac",name:"fecha",rules:"date"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[a("div",{staticClass:"form-group col-md-3",class:{"has-error":1==o.length}},[a("label",[e._v("Fecha de nacimiento")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.fecha_nac,expression:"model.fecha_nac"}],staticClass:"form-control",attrs:{type:"date",name:"fecha_nac",autofocus:"",autocomplete:"false"},domProps:{value:e.model.fecha_nac},on:{input:function(t){t.target.composing||e.$set(e.model,"fecha_nac",t.target.value)}}}),a("span",{staticClass:"help-block"},[e._v(e._s(o[0]))])])]}}])})],1)],1)]),a("div",{staticClass:"box-footer"},[a("c-btn",{attrs:{type:"submit",color:"btn btn-primary",icon:"fa-check",label:e.labelSubmit}}),a("c-btn",{attrs:{"data-dismiss":"modal","aria-label":"Close",type:"reset",color:"btn btn-danger pull-right",icon:"fa-remove",label:e.labelReset}})],1)],1)]},proxy:!0}])})},n=[],s=(a("4de4"),a("a9e3"),a("ac1f"),a("841c"),a("dde5")),l={name:"t-clientes",props:{loading:{type:Boolean,require:!1,default:!1},modelId:{type:Number,required:!1,default:0},model:{type:Object,required:!1},labelSubmit:{type:String,required:!1,default:"Guardar"},labelReset:{type:String,required:!1,default:"Cancelar"},search:{type:Boolean,required:!1,default:!1},title:{type:String,required:!1,default:"Registrar nuevo Cliente"}},methods:{onSubmit:function(){this.search?this.filter():this.validateForm()},validateForm:function(){var e=this;this.$refs.form.validate().then((function(t){t&&(e.model.id>0?e.update():e.store())}))},filter:function(){this.$emit("search",this.model),this.closeModal()},onReset:function(){this.$refs.form.reset()},store:function(){var e=this;s["a"].clientes.save(this.model).then((function(t){201==t.status&&(e.$toast.success(),e.$emit("store",t.data.data),e.closeModal())})).catch((function(t){422===t.response.status&&(e.$refs.form.setErrors(t.response.data.errors),e.$toast.error()),t.response.status>=500&&e.$toast.catch()}))},update:function(){var e=this;s["a"].clientes.update(this.model).then((function(t){200===t.status&&(e.$toast.info(),e.$emit("update",t.data.data),e.closeModal())})).catch((function(t){422===t.response.status&&(e.$refs.form.setErrors(t.response.data.errors),e.$toast.error()),t.response.status>=500&&e.$toast.catch()}))},closeModal:function(){window.$("#modal").modal("hide")}}},i=l,r=a("2877"),c=Object(r["a"])(i,o,n,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-e9d18444.075b8184.js.map